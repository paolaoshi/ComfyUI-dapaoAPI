# 🍌 Nano Banana 2 多模态节点使用说明

> **Google Nano Banana 2** 是一个强大的多模态AI模型，支持文本生成图像和多图编辑功能。本节点通过第三方API提供完整的功能支持。

---

## 📋 目录

- [功能特性](#功能特性)
- [快速开始](#快速开始)
- [参数说明](#参数说明)
- [使用示例](#使用示例)
- [常见问题](#常见问题)

---

## ✨ 功能特性

### 🎨 核心功能
- **文本生成图像**：根据提示词生成高质量图像
- **多图编辑**：支持最多4张图像输入，进行智能编辑和融合
- **风格控制**：5种预设风格（自然、鲜艳、艺术、电影、摄影）
- **质量选择**：标准、高清、超高清三档质量
- **宽高比自由**：10种常用宽高比预设

### 🎬 专业控制
- **细节级别**：从基础到大师级的5档细节控制
- **相机控制**：7种专业相机角度和镜头选择
- **光照控制**：7种专业光照预设
- **模板选择**：13种专业摄影/艺术模板

### 🌐 技术特性
- **多镜像站**：comfly/hk/us 三个线路可选
- **流式响应**：实时获取生成进度
- **智能增强**：自动优化提示词
- **种子控制**：支持固定、随机、递增三种模式

---

## 🚀 快速开始

### 1️⃣ 配置API密钥

#### 方法一：配置文件（推荐）
编辑 `banana2_config.json`：
```json
{
    "api_key": "你的API密钥",
    "base_url": "https://api.gptbest.vip",
    "timeout": 300
}
```

#### 方法二：节点参数
在节点的 `🔑 API密钥` 参数中直接输入。

### 2️⃣ 基础使用

1. 在ComfyUI中添加节点：`🤖dapaoAPI` → `🍌 Nano Banana 2`
2. 输入提示词
3. 选择模型（推荐：nano-banana-2-T8）
4. 点击执行

---

## 📖 参数说明

### 必填参数

#### 🎨 提示词
- **类型**：多行文本
- **说明**：描述你想要生成的图像内容
- **示例**：
  ```
  让女正对镜头，人物一致性保持不变
  一位穿着棕色连衣裙的年轻女性，在海滩上微笑
  ```

#### 🤖 模型选择
- **nano-banana-2-T8**：最新版本，推荐使用 ⭐
- **nano-banana-hd-T8**：高清版本
- **nano-banana-T8**：标准版本

#### 🌐 镜像站
- **comfly**：默认线路，速度快 ⭐
- **hk**：香港线路
- **us**：美国线路

#### 🔑 API密钥
- 留空则使用配置文件中的密钥
- 也可以在此直接输入密钥

#### 📐 宽高比
| 宽高比 | 适用场景 | 推荐用途 |
|--------|----------|----------|
| **1:1** | 正方形 | 社交媒体头像、图标 |
| **3:4** | 竖版 | 人物肖像、手机壁纸 ⭐ |
| **4:3** | 横版 | 风景照片 |
| **9:16** | 竖屏 | 短视频、Story |
| **16:9** | 宽屏 | 桌面壁纸、横屏视频 |
| **21:9** | 超宽 | 电影画面 |

#### 📊 响应模式
- **文字+图像**：返回描述文字和生成的图像 ⭐
- **仅图像**：只返回生成的图像

#### 💎 质量
- **标准**：快速生成，适合预览
- **高清**：平衡质量和速度 ⭐
- **超高清**：最高质量，生成时间较长

#### 🎭 风格
| 风格 | 特点 | 适用场景 |
|------|------|----------|
| **自然** | 真实自然的色彩 | 日常照片、写实作品 ⭐ |
| **鲜艳** | 色彩饱和度高 | 广告、海报 |
| **艺术** | 艺术化处理 | 创意作品 |
| **电影** | 电影级画面 | 故事板、概念图 |
| **摄影** | 专业摄影风格 | 商业摄影 |

#### 🔍 细节级别
- **自动选择**：由AI自动决定
- **基础细节**：简洁清晰
- **专业细节**：专业级细节 ⭐
- **高级质量**：高端作品
- **大师级**：顶级艺术品质

#### 📷 相机控制
- **自动选择**：AI自动选择最佳角度 ⭐
- **广角镜头**：视野开阔
- **微距拍摄**：细节特写
- **低角度**：仰视效果
- **高角度**：俯视效果
- **特写镜头**：人物特写
- **中景镜头**：平衡构图

#### 💡 光照控制
- **自动设置**：AI自动调整 ⭐
- **自然光**：柔和自然
- **影棚灯光**：专业打光
- **戏剧阴影**：强烈对比
- **柔和光晕**：浪漫氛围
- **黄金时刻**：暖色调
- **蓝调时刻**：冷色调

#### 🎬 模板选择
| 模板 | 说明 | 适用场景 |
|------|------|----------|
| **自动选择** | AI自动匹配 | 通用场景 ⭐ |
| **专业肖像** | 人物肖像 | 头像、证件照 |
| **电影风景** | 电影级风景 | 风光摄影 |
| **产品摄影** | 商品展示 | 电商、广告 |
| **数字概念艺术** | 概念设计 | 游戏、影视 |
| **动漫风格** | 二次元 | 动漫、插画 |
| **照片级渲染** | 3D渲染 | 建筑、产品 |
| **古典油画** | 油画风格 | 艺术创作 |
| **水彩画** | 水彩风格 | 插画、绘本 |
| **赛博朋克** | 未来科幻 | 科幻作品 |
| **复古胶片** | 胶片质感 | 怀旧风格 |
| **建筑摄影** | 建筑空间 | 建筑设计 |
| **美食摄影** | 食物拍摄 | 菜单、美食博客 |

---

### 可选参数

#### 🖼️ 图像1-4
- **类型**：IMAGE
- **说明**：输入图像进行编辑或参考
- **支持**：最多4张图像同时输入

#### 🌡️ 温度
- **范围**：0.0 - 2.0
- **默认**：1.0
- **说明**：控制生成的随机性，越高越有创意

#### 🎲 top_p
- **范围**：0.0 - 1.0
- **默认**：0.95
- **说明**：控制生成的多样性

#### 🎰 随机种子
- **范围**：0 - 2147483647
- **默认**：0（随机）
- **说明**：固定种子可以重现相同结果

#### 📝 最大令牌
- **范围**：1 - 32768
- **默认**：32768
- **说明**：控制生成内容的长度

#### 🎯 种子控制
- **随机**：每次生成使用不同种子 ⭐
- **固定**：使用指定的种子
- **递增**：种子自动递增

#### 🛡️ 安全级别
- **默认**：标准安全过滤 ⭐
- **严格**：严格内容审查
- **中等**：适度过滤
- **宽松**：宽松过滤

---

## 💡 使用示例

### 示例1：基础文生图

**场景**：生成一张海滩人物照片

```
提示词：一位穿着棕色连衣裙的年轻女性，在海滩上微笑，阳光明媚
模型：nano-banana-2-T8
宽高比：3:4
质量：高清
风格：自然
```

### 示例2：专业肖像

**场景**：生成专业人物肖像

```
提示词：商务女性，专业装扮，自信的表情
模型：nano-banana-2-T8
宽高比：3:4
质量：超高清
风格：摄影
细节级别：专业细节
相机控制：中景镜头
光照控制：影棚灯光
模板选择：专业肖像
```

### 示例3：多图编辑

**场景**：保持人物一致性的图像编辑

```
提示词：让女正对镜头，人物一致性保持不变
模型：nano-banana-2-T8
图像1：[输入原图]
宽高比：3:4
质量：高清
风格：自然
```

### 示例4：艺术创作

**场景**：创作赛博朋克风格作品

```
提示词：未来城市夜景，霓虹灯闪烁，赛博朋克风格
模型：nano-banana-2-T8
宽高比：16:9
质量：超高清
风格：艺术
细节级别：大师级
光照控制：戏剧阴影
模板选择：赛博朋克
```

---

## ❓ 常见问题

### Q1：如何获取API密钥？
**A**：联系第三方API服务提供商获取密钥。

### Q2：生成速度慢怎么办？
**A**：
1. 尝试切换镜像站（hk/us）
2. 降低质量设置（使用"标准"或"高清"）
3. 减少图像输入数量

### Q3：生成的图像不符合预期？
**A**：
1. 优化提示词，添加更多细节描述
2. 调整风格和模板设置
3. 使用固定种子多次尝试
4. 尝试不同的细节级别和相机控制

### Q4：如何保持人物一致性？
**A**：
1. 输入参考图像（图像1-4）
2. 在提示词中明确说明"保持人物一致性"
3. 使用固定种子
4. 选择合适的模板（如"专业肖像"）

### Q5：支持哪些图像格式？
**A**：支持 ComfyUI 标准的 IMAGE 格式，可以连接其他节点的图像输出。

### Q6：可以批量生成吗？
**A**：可以通过设置"种子控制"为"递增"，配合 ComfyUI 的批处理功能实现批量生成。

### Q7：API调用失败怎么办？
**A**：
1. 检查API密钥是否正确
2. 检查网络连接
3. 尝试切换镜像站
4. 查看控制台错误信息

---

## 🎯 最佳实践

### 提示词编写技巧

#### ✅ 好的提示词
```
一位年轻女性，穿着棕色连衣裙，站在海滩上，
面带微笑，阳光洒在她身上，背景是蓝色的海洋和天空，
自然光线，专业摄影风格
```

#### ❌ 不好的提示词
```
女人，海滩
```

### 参数组合建议

#### 人物肖像
```
质量：高清/超高清
风格：自然/摄影
细节级别：专业细节
相机控制：中景镜头/特写镜头
光照控制：自然光/影棚灯光
模板选择：专业肖像
```

#### 风景照片
```
质量：高清/超高清
风格：自然/电影
细节级别：专业细节/高级质量
相机控制：广角镜头
光照控制：黄金时刻/自然光
模板选择：电影风景
```

#### 产品摄影
```
质量：超高清
风格：摄影
细节级别：专业细节
相机控制：微距拍摄
光照控制：影棚灯光
模板选择：产品摄影
```

#### 艺术创作
```
质量：超高清
风格：艺术
细节级别：大师级
相机控制：自动选择
光照控制：戏剧阴影
模板选择：古典油画/水彩画
```

---

## 📞 技术支持

- **作者**：@炮老师的小课堂
- **项目地址**：[GitHub](https://github.com/your-repo)
- **问题反馈**：提交 Issue 或联系作者

---

## 📝 更新日志

### v3.0.0 (2025-11-21)
- ✨ 全新的中文化界面
- 🎨 添加 Emoji 图标美化
- 📐 优化参数布局
- 🔧 改进提示词增强系统
- 🌐 支持多镜像站选择
- 📚 参考 ComfyUI_LLM_Banana 项目优化

---

## 📄 许可证

MIT License

---

<div align="center">

**🎨 享受创作的乐趣！**

Made with ❤️ by @炮老师的小课堂

</div>
