# Seedream 4.5 图像生成节点使用指南

## 🌟 节点简介

**seeddream-4.5图像生成@炮老师的小课堂** 是基于火山引擎最新 Seedream 4.5 模型的图像生成节点，支持文生图、单图生图、多图融合和组图生成等多种功能。

---

## 📋 功能特性

### ✨ 核心功能

1. **📝 文生图（Text-to-Image）**
   - 根据文本提示词生成高质量图像
   - 支持中英文提示词
   - 智能理解复杂描述

2. **🖼️ 单图生图（Image-to-Image）**
   - 基于单张参考图生成变体
   - 保持原图风格和内容
   - 支持细节调整

3. **🎨 多图融合（Multi-Image Fusion）**
   - 支持2-14张参考图输入
   - 智能融合多张图像特征
   - 生成创意合成作品

4. **📸 组图生成（Sequential Images）**
   - 自动生成一组内容关联的图片
   - 最多可生成15张图片
   - 适合故事板、连续场景创作

---

## 🔧 参数说明

### 基础设置

#### 📝 提示词
- **类型**：多行文本
- **说明**：描述想要生成的图像内容
- **建议**：不超过300个汉字或600个英文单词
- **示例**：`一只可爱的小猫，坐在窗台上，阳光洒在它身上，温暖的光线，高清摄影`

#### 🔑 API密钥
- **类型**：字符串
- **说明**：火山引擎 API Key
- **获取方式**：从火山引擎控制台获取
- **提示**：留空则使用 config.json 中的配置

#### 🤖 模型ID
- **默认值**：`doubao-seedream-4.5`
- **说明**：可以使用模型ID或Endpoint ID
- **其他选项**：`doubao-seedream-4.5` 或自定义端点

---

### 图像尺寸设置

#### 📐 尺寸模式
- **预设分辨率**：选择 2K 或 4K，模型会根据提示词中的宽高比描述自动调整
- **自定义像素**：手动设置宽度和高度像素值

#### 🎯 预设分辨率
- **2K**：适合大多数场景
- **4K**：超高清输出（需要更长生成时间）

#### ◀️ 宽度 / ▲ 高度
- **范围**：960-4096 像素
- **步长**：64 像素
- **限制**：
  - 总像素范围：[3,686,400, 16,777,216]
  - 宽高比范围：[1/16, 16]
- **推荐尺寸**：
  - 1:1 → 2048x2048
  - 16:9 → 2560x1440
  - 9:16 → 1440x2560
  - 4:3 → 2304x1728
  - 3:4 → 1728x2304

---

### 组图设置

#### 📸 组图模式
- **关闭**：仅生成单张图片
- **自动判断**：模型根据提示词自动决定是否生成组图及数量

#### 📊 最大图片数
- **范围**：1-15
- **说明**：组图模式下，最多可生成的图片数量
- **注意**：输入参考图数量 + 生成图数量 ≤ 15

---

### 高级设置

#### 🎲 随机种子
- **范围**：-1 到 2^64-1
- **-1**：使用随机种子
- **固定值**：用于复现相同的生成结果

#### 🎯 种子控制
- **随机**：每次生成使用新的随机种子
- **固定**：使用指定的种子值
- **递增**：种子值自动递增（用于批量生成变体）

---

### 输出设置

#### 🌊 流式输出
- **启用**：实时返回每张图片（组图场景下更快看到结果）
- **禁用**：等待所有图片生成完成后一次性返回

#### 💧 添加水印
- **启用**：在图片右下角添加"AI生成"水印
- **禁用**：不添加水印

#### ⏱️ 超时时间
- **默认**：180秒
- **范围**：30-600秒
- **建议**：
  - 单图：120-180秒
  - 组图：180-300秒
  - 4K高清：300秒+

---

## 🖼️ 参考图像输入

### 可选参数
- **🖼️ 图像1-14**：最多可输入14张参考图
- **格式支持**：JPEG, PNG, WebP, BMP, TIFF, GIF
- **大小限制**：每张不超过10MB
- **总像素限制**：不超过 6000×6000 px
- **宽高比范围**：[1/16, 16]

### 使用建议
1. **单图生图**：只连接"图像1"
2. **多图融合**：连接2-14张参考图
3. **组图生成**：结合提示词和参考图，启用组图模式

---

## 💡 使用技巧

### 1. 文生图最佳实践

```
提示词示例：
一位年轻女性，长发飘逸，穿着白色连衣裙，站在樱花树下，
阳光透过花瓣洒落，温柔的微笑，电影画质，柔和光线，
浅景深，专业摄影，高清，4K

设置：
- 尺寸模式：预设分辨率
- 预设分辨率：2K
- 组图模式：关闭
- 种子控制：随机
```

### 2. 多图融合创作

```
提示词示例：
融合这些图像的风格特征，创造一个独特的艺术作品，
保持色彩和谐，画面平衡

设置：
- 连接 2-4 张参考图
- 尺寸模式：自定义像素
- 宽度：2048，高度：2048
- 组图模式：关闭
- 种子控制：固定（便于调整）
```

### 3. 组图故事板生成

```
提示词示例：
创建一个关于小猫冒险的连续故事，展现不同的场景：
在家中、在花园、遇到小鸟、回到家中，温馨可爱的画风

设置：
- 组图模式：自动判断
- 最大图片数：8
- 流式输出：启用
- 种子控制：随机
```

### 4. 高清图像生成

```
提示词示例：
超高清风景照，雪山倒映在湖面，日出时分，
云层渲染，专业风光摄影，Raw格式，极致细节

设置：
- 尺寸模式：预设分辨率
- 预设分辨率：4K
- 超时时间：300秒
- 添加水印：根据需求
```

---

## ⚠️ 常见问题

### Q1: 总像素超出范围错误
**错误信息**：`总像素 XXX 超出范围 [3686400, 16777216]`

**解决方法**：
- 使用预设分辨率模式
- 或检查自定义像素值：宽度 × 高度 应在 3.7M-16.8M 之间
- 推荐使用标准尺寸：2048x2048, 2560x1440 等

### Q2: 宽高比超出范围
**错误信息**：`宽高比 XXX 超出范围 [1/16, 16]`

**解决方法**：
- 调整宽度和高度比例
- 避免极端的长条形或高瘦形图像

### Q3: 参考图数量限制
**错误信息**：`参考图数量超过14张`

**解决方法**：
- 最多连接14张参考图
- 系统会自动使用前14张

### Q4: API请求失败
**可能原因**：
1. API Key 未配置或错误
2. 网络连接问题
3. 提示词包含敏感内容
4. 参考图不符合要求

**解决方法**：
1. 检查 API Key 是否正确
2. 查看终端日志获取详细错误信息
3. 调整提示词内容
4. 确保参考图符合格式和大小要求

---

## 🎯 API 配置

### 配置文件设置

在 `config.json` 中添加：

```json
{
  "api_key": "your-api-key-here",
  "base_url": "https://ark.cn-beijing.volces.com/api/v3",
  "timeout": 180,
  "max_retries": 3
}
```

### API Key 获取

1. 访问[火山引擎控制台](https://console.volcengine.com/ark)
2. 进入 API Key 管理页面
3. 创建或查看您的 API Key
4. 复制 Key 并配置到节点或 config.json

---

## 📚 相关文档

- [Seedream 4.5 API 文档](https://www.volcengine.com/docs/82379/1666945)
- [火山引擎模型列表](https://www.volcengine.com/docs/82379/1330310)
- [提示词编写指南](https://www.volcengine.com/docs/82379/1829186)

---

## 🆘 支持

如遇到问题，请：
1. 查看终端日志获取详细错误信息
2. 参考本文档的常见问题部分
3. 在 GitHub 提交 Issue
4. 联系作者微信：paolaoshiAICG

---

**作者**：@炮老师的小课堂  
**更新日期**：2025-12-17  
**版本**：v1.0.0
