# 豆包 LLM 对话节点使用说明

## 📖 节点简介

豆包 LLM 对话节点基于字节跳动的豆包大语言模型，提供强大的文本理解和生成能力，适用于各种对话、文本创作和内容生成场景。

## 🎯 主要功能

- ✅ 智能对话与问答
- ✅ 文本创作与改写
- ✅ 内容总结与提取
- ✅ 角色扮演与情景模拟
- ✅ 系统提示词自定义
- ✅ 种子控制（固定/随机/递增）

## 📝 参数说明

### 必填参数

| 参数名 | 类型 | 说明 |
|--------|------|------|
| **用户消息 (user_message)** | STRING | 您的问题或指令 |
| **API Key** | STRING | 豆包 API 密钥 |

### 可选参数

| 参数名 | 类型 | 默认值 | 说明 |
|--------|------|--------|------|
| **系统提示词 (system_prompt)** | STRING | 空 | 设定AI的角色和行为 |
| **模型 (model)** | DROPDOWN | doubao-seed-1-6-251015 | 使用的豆包模型 |
| **种子控制 (seed_control)** | DROPDOWN | 随机 | 种子生成方式 |
| **种子值 (seed)** | INT | 0 | 固定种子值 |
| **温度 (temperature)** | FLOAT | 0.7 | 输出随机性（0.0-1.0） |
| **top_p** | FLOAT | 0.9 | 核采样参数（0.0-1.0） |
| **最大令牌数 (max_tokens)** | INT | 2000 | 输出最大长度 |

## 🤖 模型说明

### doubao-seed-1-6-251015
**特点**：
- 最新的豆包模型版本
- 综合能力强，响应速度快
- 适合各类通用对话和创作任务

**适用场景**：
- 日常对话问答
- 文章写作
- 内容创作
- 代码生成
- 翻译润色

## 💬 系统提示词 (System Prompt)

系统提示词用于设定AI的角色、风格和行为准则。

### 作用
- 定义AI的身份和专业领域
- 设定输出格式和风格
- 限制或引导对话范围
- 提供背景知识和上下文

### 示例

#### 1. 专业助手
```
你是一位经验丰富的Python编程专家，擅长解答编程问题，提供清晰的代码示例和详细的解释。请用简洁、专业的语言回答问题。
```

#### 2. 创意写作
```
你是一位富有创造力的文案创作者，擅长撰写吸引人的营销文案和故事。请使用生动、有感染力的语言进行创作。
```

#### 3. 严谨分析
```
你是一位逻辑严密的数据分析师，擅长从多角度分析问题，提供客观、有依据的见解。请确保回答准确、有条理。
```

#### 4. 友好对话
```
你是一位亲切友好的生活助手，善于倾听和提供建议。请用温暖、耐心的语气与用户交流。
```

#### 5. 角色扮演
```
你是一位中世纪的智者，说话方式古朴典雅，喜欢用比喻和寓言来解释道理。请保持这个角色的特点进行对话。
```

## 🎲 种子控制

| 控制方式 | 说明 | 适用场景 |
|----------|------|----------|
| **随机** | 每次回复略有不同 | 创意探索、多样化输出 |
| **固定** | 使用固定种子，结果一致 | 测试调优、稳定输出 |
| **递增** | 种子值递增，渐进变化 | 批量生成相关内容 |

## 💡 使用场景

### 1. 智能问答
```
用户消息："请解释什么是机器学习"
系统提示词：留空或"你是一位AI教育专家"

输出：详细、易懂的机器学习解释
```

### 2. 文本创作
```
用户消息："写一篇关于春天的散文，200字"
系统提示词："你是一位文学创作者，文笔优美细腻"

输出：优美的春天散文
```

### 3. 代码生成
```
用户消息："用Python写一个快速排序函数"
系统提示词："你是Python编程专家，代码简洁高效，包含注释"

输出：带注释的Python快速排序代码
```

### 4. 内容改写
```
用户消息："请将以下文字改写得更正式：[原文]"
系统提示词："你是专业的文字编辑，擅长调整文章风格"

输出：正式版本的文字
```

### 5. 翻译润色
```
用户消息："请将这段中文翻译成英文：[中文内容]"
系统提示词："你是专业翻译，译文准确流畅，符合目标语言习惯"

输出：高质量的英文翻译
```

### 6. 内容总结
```
用户消息："请总结以下文章的核心要点：[文章内容]"
系统提示词："你是擅长提炼要点的分析师"

输出：简洁的要点总结
```

### 7. 角色扮演
```
用户消息："作为一名旅游向导，推荐北京三日游行程"
系统提示词："你是一位资深旅游向导，热情专业，了解当地文化"

输出：详细的三日游行程规划
```

### 8. 头脑风暴
```
用户消息："为一个咖啡店想10个有创意的名字"
系统提示词："你是创意顾问，善于产生新颖独特的想法"

输出：10个创意咖啡店名字
```

## ⚙️ 参数调优

### 标准对话模式
```
- temperature：0.7
- top_p：0.9
- max_tokens：2000
- seed_control：随机

适用：日常对话、通用问答
```

### 创意生成模式
```
- temperature：0.9
- top_p：0.95
- max_tokens：3000
- seed_control：随机

适用：文学创作、头脑风暴
```

### 精确输出模式
```
- temperature：0.3
- top_p：0.8
- max_tokens：1500
- seed_control：固定

适用：代码生成、技术文档、数据分析
```

### 批量生成模式
```
- temperature：0.5
- top_p：0.85
- max_tokens：2000
- seed_control：递增

适用：批量生成系列内容
```

## 📊 温度与Top-P说明

### Temperature（温度）
控制输出的随机性和创造性：
- **0.1-0.3**：输出非常稳定、准确，适合事实性回答
- **0.4-0.6**：较为稳定，略有变化，适合技术内容
- **0.7-0.8**：平衡模式，适合通用对话
- **0.9-1.0**：创造性强，输出多样，适合创意写作

### Top-P（核采样）
控制词汇选择的范围：
- **0.7-0.8**：词汇选择保守，更专注
- **0.85-0.9**：平衡模式，推荐日常使用
- **0.95-1.0**：词汇丰富，适合创意场景

### 组合建议
| 需求类型 | Temperature | Top-P | 说明 |
|----------|-------------|-------|------|
| 事实回答 | 0.2 | 0.7 | 准确可靠 |
| 技术内容 | 0.4 | 0.8 | 专业稳定 |
| 通用对话 | 0.7 | 0.9 | 平衡自然 |
| 创意写作 | 0.9 | 0.95 | 多样创新 |

## 🎯 提示词工程技巧

### 1. 明确具体
```
不好：写一篇文章
好：写一篇800字的科普文章，介绍人工智能的应用，面向普通读者
```

### 2. 提供背景
```
不好：这个代码怎么优化？
好：这是一段Python代码用于数据处理，目前运行较慢，请帮我优化性能：[代码]
```

### 3. 指定格式
```
不好：介绍一下这个产品
好：请用Markdown格式介绍这个产品，包含：标题、功能列表、价格、适用人群
```

### 4. 设定角色
```
不好：帮我改这段话
好：请作为一位专业编辑，将这段话改写得更加正式和专业：[原文]
```

### 5. 分步骤
```
不好：教我做网站
好：请分步骤教我搭建一个简单的个人博客网站：
1. 选择技术栈
2. 配置环境
3. 创建基础页面
4. 部署上线
```

## ⚠️ 注意事项

1. **输出长度**：
   - `max_tokens` 限制输出长度
   - 1个中文字约等于2-3个token
   - 过短可能导致输出被截断

2. **API成本**：
   - 按token计费（输入+输出）
   - 较长的对话会增加成本
   - 合理设置 `max_tokens` 控制成本

3. **系统提示词**：
   - 系统提示词会占用token配额
   - 建议简洁明确，避免过长
   - 每次请求都会发送系统提示词

4. **种子值**：
   - 固定种子不能保证100%相同结果
   - 模型更新可能影响输出
   - 主要用于调试和测试

5. **内容安全**：
   - 请遵守平台使用规范
   - 避免生成违规内容
   - API可能拒绝不当请求

6. **响应时间**：
   - 较长的输出需要更多时间
   - 复杂推理任务耗时较长
   - 建议设置合理的超时时间

## 🔧 配置文件

在 `doubao_config.json` 中预设API密钥：

```json
{
    "api_key": "你的豆包API密钥",
    "base_url": "https://ark.cn-beijing.volces.com/api/v3",
    "timeout": 60
}
```

## 💡 高级用法

### 连续对话（需要自行拼接）
```
第一轮：
user_message: "你好，我想学习Python"
回复: "很高兴帮助你学习Python..."

第二轮：
user_message: "我是完全零基础，请给我一个学习计划。上一轮你说：[上一轮回复]"
```

### 模板填充
```
system_prompt: "你是一个模板填充助手，根据用户提供的信息填充模板"
user_message: "
模板：尊敬的[姓名]，您的[产品]订单已发货...
信息：姓名=张三，产品=笔记本电脑
请填充模板
"
```

### 多任务处理
```
user_message: "
请完成以下三个任务：
1. 总结这段文字：[文字]
2. 翻译成英文
3. 提取关键词（5个）
请按任务编号输出结果
"
```

## 📚 相关链接

- [火山引擎豆包大模型](https://www.volcengine.com/product/doubao)
- [豆包API文档](https://www.volcengine.com/docs/82379)
- [如何获取API Key](https://console.volcengine.com/ark/region:ark+cn-beijing/apiKey)

---

**作者**：@炮老师的小课堂  
**版本**：v3.1.1  
**更新日期**：2024年

